import{a as b}from"/build/_shared/chunk-BB4GHA4P.js";import{a as c,b as v,d as s}from"/build/_shared/chunk-NSZ2OLT5.js";import{l as d,x as y}from"/build/_shared/chunk-UAZF22TS.js";import{d as f}from"/build/_shared/chunk-2LOM2E4Y.js";var t=f(y());function B({layout:e,cart:n}){let a=Boolean(n?.lines?.nodes?.length||0),o=`cart-main ${n&&Boolean(n.discountCodes.filter(l=>l.applicable).length)?"with-discount":""}`;return(0,t.jsxs)("div",{className:o,children:[(0,t.jsx)(U,{hidden:a,layout:e}),(0,t.jsx)(N,{cart:n,layout:e})]})}function N({layout:e,cart:n}){let a=!!n&&n.totalQuantity>0;return(0,t.jsxs)("div",{className:"cart-details",children:[(0,t.jsx)(g,{lines:n?.lines,layout:e}),a&&(0,t.jsxs)(L,{cost:n.cost,layout:e,children:[(0,t.jsx)(D,{discountCodes:n.discountCodes}),(0,t.jsx)(w,{checkoutUrl:n.checkoutUrl})]})]})}function g({lines:e,layout:n}){return e?(0,t.jsx)("div",{"aria-labelledby":"cart-lines",children:(0,t.jsx)("ul",{children:e.nodes.map(a=>(0,t.jsx)(x,{line:a,layout:n},a.id))})}):null}function x({layout:e,line:n}){let{id:a,merchandise:i}=n,{product:o,title:l,image:m,selectedOptions:r}=i,p=b(o.handle,r);return console.log("sahil data",{selectedOptions:r}),(0,t.jsxs)("li",{className:"cart-line",children:[m&&(0,t.jsx)(v,{alt:l,aspectRatio:"1/1",data:m,height:100,loading:"lazy",width:100}),(0,t.jsxs)("div",{className:"w-[100%]",children:[(0,t.jsx)(d,{prefetch:"intent",to:p,onClick:()=>{e==="aside"&&(window.location.href=p)},children:(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:o.title.toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.substring(1)).join(" ")})})}),(0,t.jsx)(A,{line:n,as:"span"}),(0,t.jsx)("ul",{className:"",children:r.map(u=>(0,t.jsx)("li",{className:"py-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between font-semibold text-md",children:[(0,t.jsxs)("span",{className:" text-gray-900",children:[u.name,":"]}),(0,t.jsx)("div",{className:"ml-2",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full leading-4 text-blue-800",dangerouslySetInnerHTML:{__html:u.value}})})]})},u.name))}),(0,t.jsx)(q,{line:n})]})]},a)}function w({checkoutUrl:e}){return e?(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("a",{href:e,target:"_self",children:(0,t.jsx)("p",{className:"checkout bg-black text-white text-center p-[10px] rounded",children:"Continue to Checkout \u2192"})}),(0,t.jsx)("br",{})]}):null}function L({cost:e,layout:n,children:a=null}){return(0,t.jsxs)("div",{"aria-labelledby":"cart-summary",className:n==="page"?"cart-summary-page":"cart-summary-aside",children:[(0,t.jsx)("h4",{className:"text-md font-semibold",children:"Totals"}),(0,t.jsxs)("dl",{className:"cart-subtotal flex justify-between",children:[(0,t.jsx)("dt",{children:"Subtotal"}),(0,t.jsx)("dd",{children:e?.subtotalAmount?.amount?(0,t.jsx)(c,{data:e?.subtotalAmount}):"-"})]}),a]})}function k({lineIds:e}){return(0,t.jsx)(s,{route:"/cart",action:s.ACTIONS.LinesRemove,inputs:{lineIds:e},children:(0,t.jsx)("button",{type:"submit text-[#fa4a0b] ",className:"flex justify-end",children:(0,t.jsx)("img",{src:"/delete.png",alt:"delete",width:20,height:30})})})}function q({line:e}){if(!e||typeof e?.quantity>"u")return null;let{id:n,quantity:a}=e,i=Number(Math.max(0,a-1).toFixed(0)),o=Number((a+1).toFixed(0));return(0,t.jsx)("div",{className:"cart-line-quantiy items-center",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(k,{lineIds:[n]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)("div",{className:"quantity",children:[(0,t.jsx)(C,{lines:[{id:n,quantity:i}],children:(0,t.jsx)("button",{"aria-label":"Decrease quantity",disabled:a<=1,name:"decrease-quantity",value:i,children:(0,t.jsx)("span",{children:"\u2212 "})})}),(0,t.jsx)("span",{children:a}),(0,t.jsx)(C,{lines:[{id:n,quantity:o}],children:(0,t.jsx)("button",{"aria-label":"Increase quantity",name:"increase-quantity",value:o,children:(0,t.jsx)("span",{children:"+"})})})]})})]})})}function A({line:e,priceType:n="regular",...a}){if(!e?.cost?.amountPerQuantity||!e?.cost?.totalAmount)return null;let i=n==="regular"?e.cost.totalAmount:e.cost.compareAtAmountPerQuantity;return i==null?null:(0,t.jsx)("div",{children:(0,t.jsx)(c,{withoutTrailingZeros:!0,...a,data:i})})}function U({hidden:e=!1,layout:n="aside"}){return(0,t.jsxs)("div",{hidden:e,children:[(0,t.jsx)("br",{}),(0,t.jsx)("p",{children:"Looks like you haven\u2019t added anything yet, let\u2019s get you started!"}),(0,t.jsx)("br",{}),(0,t.jsx)(d,{to:"/collections",onClick:()=>{n==="aside"&&(window.location.href="/collections")},children:"Continue shopping \u2192"})]})}function D({discountCodes:e}){let n=e?.filter(a=>a.applicable)?.map(({code:a})=>a)||[];return(0,t.jsxs)("div",{children:[(0,t.jsx)("dl",{hidden:!n.length,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{children:"Discount(s)"}),(0,t.jsx)(h,{children:(0,t.jsxs)("div",{className:"cart-discount",children:[(0,t.jsx)("code",{children:n?.join(", ")}),"\xA0",(0,t.jsx)("button",{children:"Remove"})]})})]})}),(0,t.jsx)(h,{discountCodes:n,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",name:"discountCode",placeholder:"Discount code"}),"\xA0",(0,t.jsx)("button",{type:"submit text-[#fa4a0b]",className:"text-white bg-[#2f2f76] p-[8px] rounded",children:"Apply"})]})})]})}function h({discountCodes:e,children:n}){return(0,t.jsx)(s,{route:"/cart",action:s.ACTIONS.DiscountCodesUpdate,inputs:{discountCodes:e||[]},children:n})}function C({children:e,lines:n}){return(0,t.jsx)(s,{route:"/cart",action:s.ACTIONS.LinesUpdate,inputs:{lines:n},children:e})}export{B as a};

